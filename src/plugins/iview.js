import Vue from 'vue'
import i18n from '../i18n'
import 'iview/dist/styles/iview.css'
import {
  i18n as i18nHandler,
  Alert,
  Avatar,
  BackTop,
  Button,
  Card,
  Cascader,
  Checkbox,
  Col,
  Content,
  ColorPicker,
  Drawer,
  Divider,
  DatePicker,
  Dropdown,
  DropdownItem,
  DropdownMenu,
  Footer,
  Form,
  FormItem,
  Header,
  Icon,
  Input,
  InputNumber,
  Sider,
  Submenu,
  Layout,
  Menu,
  MenuGroup,
  MenuItem,
  Message,
  Modal,
  Notice,
  Option,
  Page,
  Poptip,
  Progress,
  Radio,
  RadioGroup,
  Rate,
  Row,
  Select,
  Slider,
  Spin,
  Step,
  Steps,
  Switch,
  Table,
  Tabs,
  TabPane,
  TimePicker,
  Tooltip,
  Transfer,
  Tree,
  Upload,
  Collapse,
  Panel,
  CellGroup,
  Cell
} from 'iview'
// iview基础模块
const iviewModule = {
  Alert,
  Avatar,
  BackTop,
  Button,
  Card,
  Cascader,
  Checkbox,
  Col,
  Content,
  ColorPicker,
  DatePicker,
  Drawer,
  Divider,
  Dropdown,
  DropdownItem,
  DropdownMenu,
  Footer,
  Form,
  FormItem,
  Header,
  Icon,
  Input,
  InputNumber,
  Sider,
  Submenu,
  Layout,
  Menu,
  MenuGroup,
  MenuItem,
  Message,
  Modal,
  Notice,
  Option,
  Page,
  Poptip,
  Progress,
  Radio,
  RadioGroup,
  Rate,
  Row,
  Select,
  Slider,
  Spin,
  Step,
  Steps,
  iSwitch: Switch,
  Table,
  TabPane,
  Tabs,
  TimePicker,
  Tooltip,
  Transfer,
  Tree,
  Upload,
  Collapse,
  Panel,
  CellGroup,
  Cell
}
const iView = {
  install: function() {
    // 循环注册全局组件
    Object.keys(iviewModule).forEach(key => {
      Vue.component(key, iviewModule[key])
    })
    Vue.prototype.$Message = Message
    Vue.prototype.$Modal = Modal
    Vue.prototype.$Notice = Notice
    Vue.prototype.$Spin = Spin
    i18nHandler((key, value) => i18n.t(key, value))
  }
}
export default iView
