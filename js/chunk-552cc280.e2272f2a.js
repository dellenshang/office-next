(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-552cc280","chunk-fa99ff76","chunk-b4a57838","chunk-46b30a1f","chunk-76fd416e"],{"0012":function(e,t,a){"use strict";var n=a("8ec7");a.n(n).a},"1a17":function(e,t,a){},4917:function(e,t,a){"use strict";var n=a("cb7c"),r=a("9def"),i=a("0390"),l=a("5f1b");a("214f")("match",1,(function(e,t,a,o){return[function(a){var n=e(this),r=null==a?void 0:a[t];return void 0!==r?r.call(a,n):new RegExp(a)[t](String(n))},function(e){var t=o(a,e,this);if(t.done)return t.value;var s=n(e),c=String(this);if(!s.global)return l(s,c);var u=s.unicode;s.lastIndex=0;for(var d,p=[],f=0;null!==(d=l(s,c));){var m=String(d[0]);p[f]=m,""===m&&(s.lastIndex=i(c,r(s.lastIndex),u)),f++}return 0===f?null:p}]}))},"5fd7":function(e,t,a){"use strict";a.r(t);var n={name:"PermissionAdminAdd",data:function(){return{localValue:{name:"",group:"1",date:"2019年11月01日(金)"},ruleValidate:{name:[{required:!0,message:"入力してください",trigger:"blur"}]},groupList:[{name:"国創庁",value:"1"},{name:"新しいチーム",value:"2"},{name:"総括補佐チーム",value:"3"}],userList:[{name:"眞鍋 孝司",value:"1"}],isShow:!1,loading:!1}},methods:{cancel:function(){this.$refs.localValue.resetFields(),this.isShow=!1},add:function(){var e=this;this.$refs.localValue.validate((function(t){t&&(e.$emit("add"),e.isShow=!1)}))}}},r=(a("0012"),a("2877")),i=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.isShow=!0}}},[e._v("承認者追加")]),a("Modal",{attrs:{title:"承認者追加","footer-hide":"","mask-closable":!1,draggable:""},on:{"on-cancel":e.cancel},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[a("Form",{ref:"localValue",attrs:{"label-width":120,model:e.localValue,rules:e.ruleValidate}},[a("FormItem",{attrs:{label:"所属"}},[a("Select",{attrs:{filterable:"",transfer:""},model:{value:e.localValue.group,callback:function(t){e.$set(e.localValue,"group",t)},expression:"localValue.group"}},e._l(e.groupList,(function(t,n){return a("Option",{key:n,attrs:{value:t.value}},[e._v(e._s(t.name))])})),1)],1),a("FormItem",{attrs:{label:"承認者氏名"}},[a("Select",{attrs:{filterable:"",transfer:""},model:{value:e.localValue.group,callback:function(t){e.$set(e.localValue,"group",t)},expression:"localValue.group"}},e._l(e.userList,(function(t,n){return a("Option",{key:n,attrs:{value:t.value}},[e._v(e._s(t.name))])})),1)],1),a("div",{staticClass:"titlenorm mt15"},[a("Icon",{attrs:{type:"logo-buffer"}}),e._v("\n        権限\n      ")],1),a("FormItem",{attrs:{label:"就業承認"}},[a("Checkbox",{staticClass:"input-like-span"})],1),a("FormItem",{attrs:{label:"月次承認"}},[a("Checkbox",{staticClass:"input-like-span"})],1),a("FormItem",{attrs:{label:"超過勤務命令"}},[a("Checkbox",{staticClass:"input-like-span"})],1),a("FormItem",{attrs:{label:"予定作成"}},[a("Checkbox",{staticClass:"input-like-span"})],1),a("FormItem",{attrs:{label:"権限付与"}},[a("Checkbox",{staticClass:"input-like-span"})],1),a("FormItem",{attrs:{label:"休暇・休業承認"}},[a("Checkbox",{staticClass:"input-like-span"})],1),a("FormItem",{attrs:{label:"決裁レベル"}},[a("Select",{attrs:{transfer:""}},e._l(5,(function(t,n){return a("Option",{key:n,attrs:{value:t}},[e._v(e._s(t))])})),1)],1),a("FormItem",{attrs:{label:"有効期間"}},[a("DatePicker",{staticStyle:{width:"48%"},attrs:{value:e.localValue.timeStart,format:"yyyy/MM/dd",type:"date",transfer:""}}),a("span",{staticStyle:{"vertical-align":"super"}},[e._v(" - ")]),a("DatePicker",{staticStyle:{width:"48%"},attrs:{value:e.localValue.timeEnd,format:"yyyy/MM/dd",type:"date",transfer:""}})],1)],1),a("div",{staticClass:"my-footer"},[a("Button",{attrs:{type:"text"},on:{click:e.cancel}},[e._v("キャンセル")]),a("Button",{attrs:{type:"success",size:"large"},on:{click:function(t){return e.add()}}},[e._v("登録")])],1)],1)],1)}),[],!1,null,"9ae91338",null);t.default=i.exports},"6adc":function(e,t,a){"use strict";var n=a("8300");a.n(n).a},"6dad":function(e,t,a){"use strict";var n=(a("4917"),{name:"DeptSelector",props:{isType2:{type:Boolean,default:!1},labelName:{type:String,default:"所属"}},data:function(){return{isShow:!1,treeData:[{title:"医薬基盤・健康・栄養研究所(0)",expand:!0,children:[{title:"(本部) (0)",expand:!0,children:[{title:"総務部(8)",value:666},{title:"監査担当(0)"}]},{title:"医薬基盤研究所(1)",expand:!0,children:[{title:"開発振興部(16)"},{title:"難治性疾患研究開発・支援センター(2)",expand:!0,children:[{title:"難治性疾患治療開発・支援室(10)"},{title:"難病資源研究室(6)"}]}]}]}],deptName:"選んでください"}},methods:{handleClickLeaf:function(e){this.deptName=e[0].title,this.isShow=!1},showName:function(e){var t=e.match(/^[\s\S]+(?=\()/g);return t&&t[0]||e}}}),r=(a("7e6e"),a("2877")),i=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{class:e.isType2?"":"dept-select"},[e.isType2?e._e():a("span",{staticClass:"label"},[e._v(e._s(e.labelName))]),e.isType2?a("p",{staticClass:"p pb5",on:{click:function(t){e.isShow=!0}}},[e._v(e._s(e.showName(e.deptName)))]):a("Button",{staticClass:"input-like-span mr30 cursor grey",staticStyle:{width:"calc(100% - 120px)","border-radius":"0"},on:{click:function(t){e.isShow=!0}}},[e._v(e._s(e.showName(e.deptName)))]),a("Drawer",{attrs:{title:e.labelName,placement:"right",width:"500",closable:!1},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[a("Tree",{ref:"tree",staticClass:"tree",attrs:{data:e.treeData,"empty-text":"所属データなし"},on:{"on-select-change":e.handleClickLeaf}})],1)],1)}),[],!1,null,"0308f688",null);t.a=i.exports},"7db0":function(e,t,a){"use strict";a.r(t);var n={name:"PermissionMemberAssign",data:function(){return{localValue:{name:"",group:"国創庁",date:"2019年11月01日(金)"},ruleValidate:{name:[{required:!0,message:"入力してください",trigger:"blur"}]},isShow:!1,loading:!1,columns:[{title:"承認者氏名",align:"right",key:"name"},{title:"現グループ",key:"group",align:"left"},{title:"新グループ",slot:"group"}],data:[{group:"国創庁",name:"竹中　剛",newGroup:"1"},{group:"国創庁",name:"佐藤　雅彦",newGroup:"1"},{group:"総括補佐チーム",name:"伊藤　美紀",newGroup:"3"}],groupList:[{name:"国創庁",value:"1"},{name:"新しいチーム",value:"2"},{name:"総括補佐チーム",value:"3"}]}},methods:{cancel:function(){this.$refs.localValue.resetFields(),this.isShow=!1},add:function(){var e=this;this.$refs.localValue.validate((function(t){t&&(e.$emit("add"),e.isShow=!1)}))}}},r=(a("6adc"),a("2877")),i=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.isShow=!0}}},[e._v("メンバー割付")]),a("Modal",{attrs:{title:"メンバー割付",width:"650","footer-hide":"","mask-closable":!1,draggable:""},on:{"on-cancel":e.cancel},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[a("Form",{ref:"localValue",attrs:{"label-width":120,model:e.localValue,rules:e.ruleValidate}},[a("FormItem",{attrs:{label:"所属"}},[a("span",{staticClass:"input-like-span"},[e._v(e._s(e.localValue.group))])]),a("FormItem",{attrs:{label:"改訂日"}},[a("span",{staticClass:"input-like-span"},[e._v(e._s(e.localValue.date))])])],1),a("div",{staticClass:"titlenorm mt15"},[a("Icon",{attrs:{type:"logo-buffer"}}),e._v("\n      メンバー割付\n    ")],1),a("Table",{attrs:{border:"",columns:e.columns,data:e.data,loading:e.loading},scopedSlots:e._u([{key:"group",fn:function(t){var n=t.row;return[a("Select",{attrs:{filterable:"",transfer:""},model:{value:n.newGroup,callback:function(t){e.$set(n,"newGroup",t)},expression:"row.newGroup"}},e._l(e.groupList,(function(t,n){return a("Option",{key:n,attrs:{value:t.value}},[e._v(e._s(t.name))])})),1)]}}])}),a("div",{staticClass:"my-footer"},[a("Button",{attrs:{type:"text"},on:{click:e.cancel}},[e._v("キャンセル")]),a("Button",{attrs:{type:"success",size:"large"},on:{click:function(t){return e.add()}}},[e._v("登録")])],1)],1)],1)}),[],!1,null,"c5b87b08",null);t.default=i.exports},"7e6e":function(e,t,a){"use strict";var n=a("a488");a.n(n).a},8300:function(e,t,a){},"8ad8":function(e,t,a){"use strict";a.r(t);var n=(a("8e6e"),a("ac6a"),a("456d"),a("96cf"),a("3b8d")),r=a("bd86"),i=a("6dad"),l=a("2f62"),o=a("f62d"),s=a("b1d4c"),c=a("d0ad"),u=a("5fd7"),d=a("7db0");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={name:"PermissionRegister",components:{PermissionGroupAdd:c.default,PermissionAdminAdd:u.default,PermissionMemberAssign:d.default,DeptSelector:i.a,PermissionTable:s.default},data:function(){return{value:{holidayDate:"",memo:"",lawOrSetVacationFlg:""},keyword:"",curDate:new Date,loading:!1,forReset:!1,test:"",data1:[]}},created:function(){},activated:function(){},computed:f({},Object(l.e)(["role"]),{roleList:function(){return this.role.tableList}}),methods:f({},Object(l.d)(["setAuthList"]),{},Object(l.c)(["role/Action_Role_Get","role/Action_Role_Add","role/Action_Role_Update","role/Action_Role_Delete","auth/Action_Menu_Get_Tree"]),{getData:Object(o.a)((function(){this["role/Action_Role_Get"]({context:this}),this["auth/Action_Menu_Get_Tree"]()})),onAdd:function(){var e=this.getcha.nearChildren(this,"PermissionAdd").localValue;this.forReset=!this.forReset,this["role/Action_Role_Add"]({context:this,value:[e]})},onRemove:function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this["role/Action_Role_Delete"]({context:this,value:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),onUpdate:function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this["role/Action_Role_Update"]({context:this,value:[t]});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),onRefresh:function(){this.getData(),this.keyword=""},handleDatePicker:function(){},keywordSearch:function(){this["role/Action_Role_Get"]({value:{name:this.keyword},context:this})}})},h=a("2877"),v=Object(h.a)(m,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Content",{staticClass:"content"},[a("div",{staticClass:"content_head"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title1"},[a("h1",[a("i-svg",{staticClass:"page-svg",attrs:{svgName:"WorkManage03"}}),e._v("\n          "+e._s(e.$route.meta.name)+"\n        ")],1)]),a("div",{staticClass:"btnbox"},[a("PermissionMemberAssign",{on:{add:e.onAdd}}),a("PermissionGroupAdd",{on:{add:e.onAdd}}),a("PermissionAdminAdd",{on:{add:e.onAdd}})],1)]),a("div",{staticClass:"searchwrap"},[a("span",{staticClass:"label"},[e._v("改訂日指定")]),a("DatePicker",{staticClass:"mar",attrs:{type:"date",editable:!1,clearable:!1,format:"yyyy年MM月dd日"},on:{"on-change":e.handleDatePicker},model:{value:e.curDate,callback:function(t){e.curDate=t},expression:"curDate"}}),a("DeptSelector"),a("span",{staticClass:"place-holder"})],1)]),a("div",{staticClass:"content_body"},[a("PermissionTable",{ref:"tableData",attrs:{data:e.roleList,loading:e.loading},on:{delete:e.onRemove,update:e.onUpdate}})],1)])}),[],!1,null,"35078bdd",null);t.default=v.exports},"8ec7":function(e,t,a){},a488:function(e,t,a){},b1d4c:function(e,t,a){"use strict";a.r(t);var n=(a("8e6e"),a("456d"),a("96cf"),a("3b8d")),r=(a("7f7f"),a("ac6a"),a("bd86")),i=a("2f62");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={name:"PermissionTable",components:{PermissionFlagModals:function(){return a.e("chunk-c461e0fa").then(a.bind(null,"a9e1"))},PermissionEditerModals:function(){return a.e("chunk-f803fa86").then(a.bind(null,"f9b8"))}},data:function(){return{columns:[{title:"グループ",width:180,slot:"group"},{title:"承認者氏名",width:260,align:"center",slot:"name"},{title:"権限",children:[{title:"就業承認",slot:"workConfirm",align:"center"},{title:"月次承認",slot:"monthConfirm",align:"center"},{title:"超過勤務命令",slot:"overWorkConfirm",align:"center"},{title:"予定作成",slot:"scheduleCreate",align:"center"},{title:"権限付与",slot:"permissionGive",align:"center"},{title:"休暇・休業承認",slot:"restConfirm",align:"center"},{title:"決裁レベル",key:"level",align:"center"}]},{title:"有効期間",align:"center",width:220,key:"validPeriod"}],data:[],loading:!1,tableData:[],mergeSpanInfo:[]}},created:function(){this.getTableData()},computed:o({},(0,Object(i.a)("auth").mapState)(["treeMenu"]),{treeData:function(){return this.treeMenu}}),watch:{data:{handler:function(){var e=[];this.mergeSpanInfo=this.data.map((function(t,a){var n=0,r=[];return t.memberList?t.memberList.forEach((function(i,l){i.validList?(n+=i.validList.length,i.validList.length>1&&r.push([l,i.validList.length]),i.validList.forEach((function(n){e=e.concat(o({preIndex:a,group:t.group,name:i.name},n))}))):(n+=1,e=e.concat({preIndex:a,group:t.group,name:i.name}))})):e=e.concat({group:t.group}),n>1?{deptOccupy:n,whichMemberDuplicate:r}:{deptOccupy:1}})),this.tableData=e},immediate:!0}},methods:{handleBtn:function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),handleEditData:function(){this.$refs.editData.isShow=!0},handleOverFlag:function(){this.$refs.updateData.isShow=!0},getTableData:function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,this.api.mock("permissionTableData");case 4:t=e.sent,a=t.data,this.data=a,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return");case 12:return e.prev=12,this.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),handleSpan:function(e){var t=e.rowIndex,a=e.columnIndex,n=[],r=0;return this.mergeSpanInfo.forEach((function(e){if(e.whichMemberDuplicate){for(var i=0;i<e.deptOccupy;i++)0===i?t===i+r&&0===a&&(n=[e.deptOccupy,1]):t===i+r&&0===a&&(n=[0,0]);var l=r;e.whichMemberDuplicate.forEach((function(e){for(var r=0;r<e[1];r++)0===r?t===r+l&&1===a&&(n=[e[1],1]):t===r+l&&1===a&&(n=[0,0]);l+=e[1]})),r+=e.deptOccupy}else r+=1})),n},cancel:function(){this.$refs.localValue.resetFields(),this.isShow=!1},onUpdate:function(){}}},c=a("2877"),u=Object(c.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Table",{attrs:{border:"",columns:e.columns,data:e.tableData,"span-method":e.handleSpan,loading:e.loading},scopedSlots:e._u([{key:"group",fn:function(t){var n=t.row;return[a("Button",{class:0!==n.preIndex?"ml30 width75":"width75",attrs:{type:"primary",ghost:"",size:"small"},on:{click:e.handleOverFlag}},[e._v("\n        "+e._s(n.group)+"\n      ")])]}},{key:"name",fn:function(t){var n=t.row;return[n.name?a("Button",{attrs:{type:"primary",ghost:"",size:"small",long:""},on:{click:e.handleEditData}},[e._v("\n        "+e._s(n.name)+"\n      ")]):a("span",{staticClass:"grey"},[e._v("未设定")])]}},{key:"workConfirm",fn:function(t){var n=t.row;return[a("span",{staticClass:"blue"},[e._v(e._s(n.workConfirm?"〇":""))])]}},{key:"monthConfirm",fn:function(t){var n=t.row;return[a("span",{staticClass:"blue"},[e._v(e._s(n.monthConfirm?"〇":""))])]}},{key:"overWorkConfirm",fn:function(t){var n=t.row;return[a("span",{staticClass:"blue"},[e._v(e._s(n.overWorkConfirm?"〇":""))])]}},{key:"scheduleCreate",fn:function(t){var n=t.row;return[a("span",{staticClass:"blue"},[e._v(e._s(n.scheduleCreate?"〇":""))])]}},{key:"permissionGive",fn:function(t){var n=t.row;return[a("span",{staticClass:"blue"},[e._v(e._s(n.permissionGive?"〇":""))])]}},{key:"restConfirm",fn:function(t){var n=t.row;return[a("span",{staticClass:"blue"},[e._v(e._s(n.restConfirm?"〇":""))])]}}])}),a("PermissionFlagModals",{ref:"updateData",on:{update:function(t){return e.onUpdate(t)}}}),a("PermissionEditerModals",{ref:"editData",on:{update:function(t){return e.onUpdate(t)}}})],1)}),[],!1,null,"46954caa",null);t.default=u.exports},bc7b:function(e,t,a){"use strict";var n=a("1a17");a.n(n).a},d0ad:function(e,t,a){"use strict";a.r(t);var n={name:"PermissionGroupAdd",data:function(){return{localValue:{name:"",group:"国創庁",date:"2019年11月01日(金)"},ruleValidate:{name:[{required:!0,message:"入力してください",trigger:"blur"}]},isShow:!1,treeData:[]}},methods:{cancel:function(){this.$refs.localValue.resetFields(),this.isShow=!1},add:function(){var e=this;this.$refs.localValue.validate((function(t){t&&(e.$emit("add"),e.isShow=!1)}))}}},r=(a("bc7b"),a("2877")),i=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.isShow=!0}}},[e._v("グループ作成")]),a("Modal",{attrs:{title:"グループ作成","footer-hide":"","mask-closable":!1,draggable:""},on:{"on-cancel":e.cancel},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[a("Form",{ref:"localValue",attrs:{"label-width":120,model:e.localValue,rules:e.ruleValidate}},[a("FormItem",{attrs:{label:"所属"}},[a("span",{staticClass:"input-like-span"},[e._v(e._s(e.localValue.group))])]),a("FormItem",{attrs:{label:"改訂日"}},[a("span",{staticClass:"input-like-span"},[e._v(e._s(e.localValue.date))])]),a("FormItem",{attrs:{label:"新規グループ",prop:"name"}},[a("Input",{attrs:{placeholder:"新規グループ",maxlength:15},model:{value:e.localValue.name,callback:function(t){e.$set(e.localValue,"name",t)},expression:"localValue.name"}})],1)],1),a("div",{staticClass:"my-footer"},[a("Button",{attrs:{type:"text"},on:{click:e.cancel}},[e._v("キャンセル")]),a("Button",{attrs:{type:"success",size:"large"},on:{click:function(t){return e.add()}}},[e._v("登録")])],1)],1)],1)}),[],!1,null,"9dfca252",null);t.default=i.exports}}]);