(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e9399a36","chunk-30a46219"],{"10e8":function(t,e,n){},"1b3d":function(t,e,n){"use strict";n.r(e);var r=(n("a481"),n("96cf"),n("3b8d")),a=(n("ac6a"),n("c5f6"),n("f62d")),s={name:"OverworkAssignmentTable",props:{curDate:String,isEmployer:Boolean,userId:Number,loading:Boolean,tableHead:Array,tableData:Array,monthConfirmFlag:Boolean},components:{FormDrawer:function(){return n.e("chunk-74d3d4ae").then(n.bind(null,"9ce1"))}},data:function(){return{monthSum:{},dailyShow:!0,rawData:[],title:"2020年03月24日(火)",selectedData:{obj:{},date:""},columns2:[{title:"氏名",key:"name",minWidth:100,align:"right"},{title:"区分",minWidth:36,key:"wordkDivision",align:"center"},{title:"予定",align:"center",children:[{title:"始業",align:"center",minWidth:36,key:"workStartFinal"},{title:"終業",minWidth:36,key:"workEndFinal",align:"center"}]},{title:"打刻",align:"center",children:[{title:"始業",minWidth:36,key:"workStartReal",align:"center"},{title:"終業",minWidth:36,key:"workEndReal",align:"center"}]},{title:"就業",align:"center",children:[{title:"始業",minWidth:36,key:"workStartReal",align:"center"},{title:"終業",minWidth:36,key:"workEndReal",align:"center"}]},{title:"超勤",minWidth:150,key:"overWork",tooltip:!0,align:"center"},{title:"用務内容",minWidth:150,tooltip:!0,key:"reason",align:"center"},{title:"備考",minWidth:70,key:"remark",tooltip:!0,align:"center"},{title:"本人コメント",minWidth:70,key:"remark",tooltip:!0,align:"center"},{title:"承認",slot:"workApplyStatus",width:30,align:"center"},{type:"selection",width:60,align:"center"}],overWorkViewType:2,isShow:!1,index:0,tableData2:[],showDayApply:!1,comment:""}},mounted:function(){this.getDrawData()},computed:{columns:function(){var t=this,e=(this.$createElement,[]);return e=1===this.overWorkViewType?[{title:"氏名",slot:"name",minWidth:100,align:"right"},{title:"合計",key:"sum",minWidth:36,align:"center"}]:[{title:"氏名",slot:"name",minWidth:100,align:"right"},{title:"超過勤務",children:[{title:"合計\n(月)",slot:"sumMonth",align:"center",minWidth:36},{title:"合計\n(年)",minWidth:36,align:"center",slot:"sumYear"},{title:"45超\n(年)",slot:"sumOver45",align:"center",minWidth:36}],minWidth:36,align:"center"},{title:"休日\n出勤\n回数\n(月)",slot:"restWorktime",minWidth:36,align:"center"},{title:"平均\n超勤\n時間\n(月)",slot:"averageOverWorkTime",minWidth:36,align:"center"}],this.tableHead.forEach((function(n,r){e=e.concat({className:n.indexOf("土")>-1||n.indexOf("日")>-1?"rest":"",minWidth:25,renderHeader:function(e,r){return e("span",{style:"cursor: pointer;",class:"table-head",on:{click:t.handleClickHead.bind(t,r)}},[n])},slot:"m".concat(r+1),align:"center"})})),e}},methods:{getDrawData:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.api.mock("workApplyStatusDrawData");case 3:e=t.sent,n=e.data,this.tableData2=n,t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return");case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),dayRed:function(t){var e=t.dayOfWeek;if(e)return"土"===e.trim()||"日"===e.trim()?"blue":t.today?"brown":void 0},showDay:Object(a.a)((function(){this.isShow=!0})),preMonth:function(){this.$emit("pre")},nextMonth:function(){this.$emit("next")},refresh:function(){this.$emit("refresh")},handleClickHead:function(){this.showDayApply=!0},handleTypeChange:function(){this.$emit("changeTableData")},showRed:function(t,e){if(t){var n=+t.replace(/\n/g,"");return e.isNormal?"wrap-cell normal":n>799?"wrap-cell level4":n>360?"wrap-cell level3":n>60?"wrap-cell level2":n>8?"wrap-cell level1":"wrap-cell"}},toWorkPage:function(){this.$router.push("/sys/confirmer/applyWork")}}},o=(n("9f70"),n("2877")),i=Object(o.a)(s,(function(){var t=this,e=this,n=e.$createElement,r=e._self._c||n;return r("div",[r("div",{staticClass:"table-top"},[r("Row",{attrs:{gutter:16}},[r("Col",{attrs:{span:"11"}},[r("Button",{attrs:{type:"text"},on:{click:e.preMonth}},[r("Icon",{attrs:{type:"ios-arrow-back"}}),e._v("\n          前月\n        ")],1),r("Button",{attrs:{type:"text"},on:{click:e.nextMonth}},[e._v("\n          翌月\n          "),r("Icon",{attrs:{type:"ios-arrow-forward"}})],1)],1),r("Col",{staticClass:"tr",attrs:{span:"8",offset:"5"}},[r("Select",{on:{"on-change":e.handleTypeChange},model:{value:e.overWorkViewType,callback:function(t){e.overWorkViewType=t},expression:"overWorkViewType"}},[r("Option",{attrs:{value:1}},[e._v("超過勤務状況[命令時間]")]),r("Option",{attrs:{value:2}},[e._v("超過勤務状況[実績時間]")]),r("Option",{attrs:{value:3}},[e._v("超過勤務状況[実績時間（法定内含む）]")])],1)],1)],1)],1),r("Table",{ref:"selection",staticClass:"long-table",attrs:{border:"",columns:e.columns,data:e.tableData,"disabled-hover":!0,loading:e.loading},scopedSlots:e._u([{key:"name",fn:function(t){var n=t.row;return[r("span",{staticClass:"mr10 pt2 pb2 pl10 pr10 cursor row-label-primary",on:{click:e.toWorkPage}},[e._v(e._s(n.name))])]}},{key:"sumMonth",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.sumMonth,n)},[e._v(e._s(n.sumMonth))])]}},{key:"sumYear",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.sumYear,n)},[e._v(e._s(n.sumYear))])]}},{key:"sumOver45",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.sumOver45,n)},[e._v(e._s(n.sumOver45))])]}},{key:"restWorktime",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.restWorktime,n)},[e._v(e._s(n.restWorktime))])]}},{key:"averageOverWorkTime",fn:function(t){var n=t.row;return[r("span",{class:["ave-worktime",e.showRed(n.averageOverWorkTime,n)]},[e._v(e._s(n.averageOverWorkTime))])]}},{key:"m1",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m1,n)},[e._v(e._s(n.m1))])]}},{key:"m2",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m2,n)},[e._v(e._s(n.m2))])]}},{key:"m3",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m3,n)},[e._v(e._s(n.m3))])]}},{key:"m4",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m4,n)},[e._v(e._s(n.m4))])]}},{key:"m5",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m5,n)},[e._v(e._s(n.m5))])]}},{key:"m6",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m6,n)},[e._v(e._s(n.m6))])]}},{key:"m7",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m7,n)},[e._v(e._s(n.m7))])]}},{key:"m8",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m8,n)},[e._v(e._s(n.m8))])]}},{key:"m9",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m9,n)},[e._v(e._s(n.m9))])]}},{key:"m10",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m10,n)},[e._v(e._s(n.m10))])]}},{key:"m11",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m11,n)},[e._v(e._s(n.m11))])]}},{key:"m12",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m12,n)},[e._v(e._s(n.m12))])]}},{key:"m13",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m13,n)},[e._v(e._s(n.m13))])]}},{key:"m14",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m14,n)},[e._v(e._s(n.m14))])]}},{key:"m15",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m15,n)},[e._v(e._s(n.m15))])]}},{key:"m16",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m16,n)},[e._v(e._s(n.m16))])]}},{key:"m17",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m17,n)},[e._v(e._s(n.m17))])]}},{key:"m18",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m18,n)},[e._v(e._s(n.m18))])]}},{key:"m19",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m19,n)},[e._v(e._s(n.m19))])]}},{key:"m20",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m20,n)},[e._v(e._s(n.m20))])]}},{key:"m21",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m21,n)},[e._v(e._s(n.m21))])]}},{key:"m22",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m22,n)},[e._v(e._s(n.m22))])]}},{key:"m23",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m23,n)},[e._v(e._s(n.m23))])]}},{key:"m24",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m24,n)},[e._v(e._s(n.m24))])]}},{key:"m25",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m25,n)},[e._v(e._s(n.m25))])]}},{key:"m26",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m26,n)},[e._v(e._s(n.m26))])]}},{key:"m27",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m27,n)},[e._v(e._s(n.m27))])]}},{key:"m28",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m28,n)},[e._v(e._s(n.m28))])]}},{key:"m29",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m29,n)},[e._v(e._s(n.m29))])]}},{key:"m30",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m30,n)},[e._v(e._s(n.m30))])]}},{key:"m31",fn:function(t){var n=t.row;return[r("span",{class:e.showRed(n.m31,n)},[e._v(e._s(n.m31))])]}}])}),r("FormDrawer",{attrs:{isAdmin:!0,title:"2020年03月24日(火)",isShow:e.isShow},on:{close:function(){return t.isShow=!1}}}),r("Drawer",{attrs:{title:e.title,width:"1200",draggable:""},model:{value:e.showDayApply,callback:function(t){e.showDayApply=t},expression:"showDayApply"}},[r("Row",{staticClass:"mb10",attrs:{gutter:16}},[r("Col",{staticClass:"tr",attrs:{span:"13",offset:"11"}},[r("Button",{staticClass:"tr",attrs:{type:"primary",size:"large"}},[e._v("一括承認")])],1)],1),r("Table",{ref:"selection2",attrs:{columns:e.columns2,data:e.tableData2},scopedSlots:e._u([{key:"workApplyStatus",fn:function(t){var n=t.row;return[1===n.workApplyStatus?r("span",{staticClass:"confirm-sytle ing",on:{click:e.showDay}},[e._v("待")]):e._e(),2===n.workApplyStatus?r("span",{staticClass:"confirm-sytle",on:{click:e.showDay}},[e._v("済")]):e._e(),3===n.workApplyStatus?r("span",{staticClass:"confirm-sytle undo",on:{click:e.showDay}},[e._v("エ")]):e._e()]}}])})],1)],1)}),[],!1,null,"5e0c6686",null);e.default=i.exports},4917:function(t,e,n){"use strict";var r=n("cb7c"),a=n("9def"),s=n("0390"),o=n("5f1b");n("214f")("match",1,(function(t,e,n,i){return[function(n){var r=t(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=i(n,t,this);if(e.done)return e.value;var c=r(t),l=String(this);if(!c.global)return o(c,l);var u=c.unicode;c.lastIndex=0;for(var m,f=[],p=0;null!==(m=o(c,l));){var d=String(m[0]);f[p]=d,""===d&&(c.lastIndex=s(l,a(c.lastIndex),u)),p++}return 0===p?null:f}]}))},"5dbc":function(t,e,n){var r=n("d3f4"),a=n("8b97").set;t.exports=function(t,e,n){var s,o=e.constructor;return o!==n&&"function"==typeof o&&(s=o.prototype)!==n.prototype&&r(s)&&a&&a(t,s),t}},"6dad":function(t,e,n){"use strict";var r=(n("4917"),{name:"DeptSelector",data:function(){return{isShow:!1,treeData:[{title:"医薬基盤・健康・栄養研究所(0)",expand:!0,children:[{title:"(本部) (0)",expand:!0,children:[{title:"総務部(8)",value:666},{title:"監査担当(0)"}]},{title:"医薬基盤研究所(1)",expand:!0,children:[{title:"開発振興部(16)"},{title:"難治性疾患研究開発・支援センター(2)",expand:!0,children:[{title:"難治性疾患治療開発・支援室(10)"},{title:"難病資源研究室(6)"}]}]}]}],deptName:"请选择"}},methods:{handleClickLeaf:function(t){this.deptName=t[0].title,this.isShow=!1},showName:function(t){var e=t.match(/^[\s\S]+(?=\()/g);return e&&e[0]||t}}}),a=n("2877"),s=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticStyle:{display:"flex",width:"calc(15% + 200px)"}},[n("span",{staticClass:"label"},[t._v("所属")]),n("Button",{staticClass:"input-like-span mr30 cursor grey",staticStyle:{width:"calc(100% - 120px)","border-radius":"0"},on:{click:function(e){t.isShow=!0}}},[t._v("\n    "+t._s(t.showName(t.deptName))+"\n  ")]),n("Drawer",{attrs:{title:"所属",placement:"right",width:"500",closable:!1},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[n("Tree",{ref:"tree",staticClass:"tree",attrs:{data:t.treeData,"empty-text":"所属データなし"},on:{"on-select-change":t.handleClickLeaf}})],1)],1)}),[],!1,null,null,null);e.a=s.exports},"8b97":function(t,e,n){var r=n("d3f4"),a=n("cb7c"),s=function(t,e){if(a(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return s(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:s}},"9f70":function(t,e,n){"use strict";var r=n("10e8");n.n(r).a},aa77:function(t,e,n){var r=n("5ca1"),a=n("be13"),s=n("79e5"),o=n("fdef"),i="["+o+"]",c=RegExp("^"+i+i+"*"),l=RegExp(i+i+"*$"),u=function(t,e,n){var a={},i=s((function(){return!!o[t]()||"​"!="​"[t]()})),c=a[t]=i?e(m):o[t];n&&(a[n]=c),r(r.P+r.F*i,"String",a)},m=u.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=u},c5f6:function(t,e,n){"use strict";var r=n("7726"),a=n("69a8"),s=n("2d95"),o=n("5dbc"),i=n("6a99"),c=n("79e5"),l=n("9093").f,u=n("11e9").f,m=n("86cc").f,f=n("aa77").trim,p="Number",d=r[p],h=d,v=d.prototype,w=s(n("2aeb")(v))==p,y="trim"in String.prototype,k=function(t){var e=i(t,!1);if("string"==typeof e&&e.length>2){var n,r,a,s=(e=y?e.trim():f(e,3)).charCodeAt(0);if(43===s||45===s){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+e}for(var o,c=e.slice(2),l=0,u=c.length;l<u;l++)if((o=c.charCodeAt(l))<48||o>a)return NaN;return parseInt(c,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(w?c((function(){v.valueOf.call(n)})):s(n)!=p)?o(new h(k(e)),n,d):k(e)};for(var _,g=n("9e1e")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;g.length>b;b++)a(h,_=g[b])&&!a(d,_)&&m(d,_,u(h,_));d.prototype=v,v.constructor=d,n("2aba")(r,p,d)}},cb46:function(t,e,n){"use strict";n.r(e);var r=(n("96cf"),n("3b8d")),a=n("1b3d"),s=n("6dad"),o={name:"OverworkAssignment",components:{OverworkAssignmentTable:a.default,DeptSelector:s.a},data:function(){return{curDate:new Date,loading:!1,tableHead:[],tableData:[]}},mounted:function(){this.getTableHead(),this.getTableData()},methods:{getTableHead:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.mock("workApplyStatusHead");case 2:e=t.sent,n=e.data,this.tableHead=n;case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),getTableData:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,this.api.mock("overWorkData",{type:this.$refs.table.overWorkViewType});case 4:e=t.sent,n=e.data,this.tableData=n,t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return");case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[1,9,12,15]])})));return function(){return t.apply(this,arguments)}}(),handleDatePicker:function(){}}},i=n("2877"),c=Object(i.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Content",{staticClass:"content"},[n("div",{staticClass:"content_head"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title1"},[n("h1",[n("Icon",{attrs:{type:"i-emeer colored"}}),t._v("\n          "+t._s(t.$route.meta.name)+"\n        ")],1)]),n("div",{staticClass:"btnbox"},[n("div",{staticStyle:{height:"40px",margin:"2px"}})])]),n("div",{staticClass:"searchwrap"},[n("span",{staticClass:"label"},[t._v("年月")]),n("DatePicker",{staticClass:"mar",attrs:{type:"month",editable:!1,clearable:!1,format:"yyyy年MM月度"},on:{"on-change":t.handleDatePicker},model:{value:t.curDate,callback:function(e){t.curDate=e},expression:"curDate"}}),n("DeptSelector"),n("span",{staticStyle:{flex:"1"}})],1)]),n("div",{staticClass:"content_body"},[n("OverworkAssignmentTable",{ref:"table",attrs:{tableHead:t.tableHead,tableData:t.tableData,loading:t.loading},on:{changeTableData:t.getTableData}})],1)])}),[],!1,null,"0d8e8c85",null);e.default=c.exports},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);