(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4b57708d","chunk-2d0e5fb3"],{4917:function(t,e,n){"use strict";var a=n("cb7c"),s=n("9def"),i=n("0390"),r=n("5f1b");n("214f")("match",1,(function(t,e,n,l){return[function(n){var a=t(this),s=null==n?void 0:n[e];return void 0!==s?s.call(n,a):new RegExp(n)[e](String(a))},function(t){var e=l(n,t,this);if(e.done)return e.value;var o=a(t),c=String(this);if(!o.global)return r(o,c);var u=o.unicode;o.lastIndex=0;for(var d,h=[],p=0;null!==(d=r(o,c));){var f=String(d[0]);h[p]=f,""===f&&(o.lastIndex=i(c,s(o.lastIndex),u)),p++}return 0===p?null:h}]}))},"558f":function(t,e,n){"use strict";n.r(e);var a=(n("96cf"),n("1da1")),s=n("6dad"),i=n("9798"),r={name:"MonthSumInfo",components:{DeptSelector:s.a,MonthSumInfoTable:i.default},data:function(){return{curDate:new Date,loading:!1,tableData:[]}},created:function(){var t=Object(a.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,this.api.mock("monthSumInfo");case 4:e=t.sent,n=e.data,this.tableData=n,t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return");case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[1,9,12,15]])})));return function(){return t.apply(this,arguments)}}(),methods:{handleDatePicker:function(){}}},l=n("2877"),o=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Content",{staticClass:"content"},[n("div",{staticClass:"content_head"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title1"},[n("h1",[n("i-svg",{staticClass:"page-svg",attrs:{svgName:"WorkManage03"}}),t._v("\n          "+t._s(t.$route.meta.name)+"\n        ")],1)]),n("div",{staticClass:"btnbox"},[n("div",{staticStyle:{height:"40px",margin:"2px"}})])]),n("div",{staticClass:"searchwrap"},[n("span",{staticClass:"label"},[t._v("年")]),n("DatePicker",{staticClass:"mar",attrs:{type:"year",editable:!1,clearable:!1,format:"yyyy年"},on:{"on-change":t.handleDatePicker},model:{value:t.curDate,callback:function(e){t.curDate=e},expression:"curDate"}}),n("DeptSelector"),n("span",{staticStyle:{flex:"1"}})],1)]),n("div",{staticClass:"content_body"},[n("MonthSumInfoTable",{ref:"table",attrs:{loading:t.loading,tableData:t.tableData}})],1)])}),[],!1,null,"685acf86",null);e.default=o.exports},"6dad":function(t,e,n){"use strict";var a=(n("4917"),{name:"DeptSelector",props:{isType2:{type:Boolean,default:!1},labelName:{type:String,default:"所属"}},data:function(){return{isShow:!1,treeData:[{title:"研究所(0)",expand:!0,children:[{title:"(本部) (0)",expand:!0,children:[{title:"総務部(8)",value:666},{title:"担当(0)"}]},{title:"研究所(1)",expand:!0,children:[{title:"開発部(16)"},{title:"支援センター(2)",expand:!0,children:[{title:"支援室(10)"},{title:"研究室(6)"}]}]}]}],deptName:"選んでください"}},methods:{handleClickLeaf:function(t){this.deptName=t[0].title,this.isShow=!1},showName:function(t){var e=t.match(/^[\s\S]+(?=\()/g);return e&&e[0]||t}}}),s=(n("9e19"),n("2877")),i=Object(s.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{class:t.isType2?"":"dept-select"},[t.isType2?t._e():n("span",{staticClass:"label"},[t._v(t._s(t.labelName))]),t.isType2?n("p",{staticClass:"p pb5",on:{click:function(e){t.isShow=!0}}},[t._v(t._s(t.showName(t.deptName)))]):n("Button",{staticClass:"input-like-span mr30 cursor grey",staticStyle:{width:"calc(100% - 120px)","border-radius":"0"},on:{click:function(e){t.isShow=!0}}},[t._v(t._s(t.showName(t.deptName)))]),n("Drawer",{attrs:{title:t.labelName,placement:"right",width:"500",closable:!1},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[n("Tree",{ref:"tree",staticClass:"tree",attrs:{data:t.treeData,"empty-text":"所属データなし"},on:{"on-select-change":t.handleClickLeaf}})],1)],1)}),[],!1,null,"644d5b00",null);e.a=i.exports},"8e56":function(t,e,n){},9798:function(t,e,n){"use strict";n.r(e);var a={name:"MonthSumInfoTable",props:{tableData:Array,loading:Boolean},data:function(){return{columns:[{title:"年月",key:"month",align:"center"},{title:"承認状況",slot:"status",align:"center"},{title:"締め",slot:"end",align:"center"},{title:"集計",slot:"sum",align:"center"},{title:"ダウンロード",slot:"download",align:"center"},{title:"締め未完了部局",slot:"notEnd",align:"center"},{title:"確定",slot:"confirm",align:"center"}]}},methods:{handleChange:function(t){this.$Modal.confirm({title:"注意",content:2===t.end?"<h3>月次締めを解除します。よろしいですか？<h3>":"<h3>".concat(t.month,"月の就業締め処理を実行してよろしいですか<h3>"),onOk:function(){1===t.end?t.end=2:t.end=1}})}}},s=n("2877"),i=Object(s.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Table",{attrs:{border:"",columns:t.columns,"disabled-hover":!0,data:t.tableData,loading:t.loading},scopedSlots:t._u([{key:"status",fn:function(e){return e.row.status?[n("Button",{attrs:{type:"primary",ghost:"",size:"small",long:""}},[t._v("未承認者状況")])]:void 0}},{key:"end",fn:function(e){var a=e.row;return[1===a.end?n("Button",{staticStyle:{width:"80%"},attrs:{type:"primary",ghost:"",size:"small",long:""},on:{click:function(e){return t.handleChange(a)}}},[t._v("\n        締め処理\n      ")]):t._e(),2===a.end?n("Button",{staticStyle:{width:"80%"},attrs:{type:"primary",ghost:"",size:"small",long:""},on:{click:function(e){return t.handleChange(a)}}},[t._v("\n        締め解除\n      ")]):t._e(),3===a.end?n("p",[t._v("完了")]):t._e()]}},{key:"sum",fn:function(e){var a=e.row;return[a.status?n("Button",{attrs:{type:"primary",ghost:"",size:"small",long:""}},[t._v("集計処理")]):t._e(),2===a.sum?n("div",[n("p",[t._v(t._s(a.time+" "+a.hour))]),n("Button",{attrs:{type:"error",ghost:"",size:"small",long:""}},[t._v("集計時の問題")])],1):t._e(),3===a.sum?n("p",[t._v("集計中")]):t._e()]}},{key:"download",fn:function(e){return e.row.download?[n("Button",{staticClass:"mb5",staticStyle:{width:"80%"},attrs:{type:"primary",ghost:"",size:"small"}},[t._v("月例ダウンロード")]),n("Button",{staticStyle:{width:"80%"},attrs:{type:"primary",ghost:"",size:"small"}},[t._v("遡及ダウンロード")])]:void 0}},{key:"notEnd",fn:function(e){return e.row.status?[n("Button",{staticStyle:{width:"80%"},attrs:{type:"primary",ghost:"",size:"small"}},[t._v("締め未完了部局")])]:void 0}},{key:"confirm",fn:function(e){var a=e.row;return[a.confirm&&!a.hasit?n("Button",{staticStyle:{width:"80%"},attrs:{type:"primary",ghost:"",size:"small"},on:{click:function(e){return t.$set(a,"hasit",!0)}}},[t._v("\n        確定\n      ")]):t._e(),a.hasit?n("Button",{staticStyle:{width:"80%"},attrs:{type:"primary",ghost:"",size:"small"},on:{click:function(t){a.hasit=!1}}},[t._v("\n        確定解除\n      ")]):t._e()]}}],null,!0)})],1)}),[],!1,null,null,null);e.default=i.exports},"9e19":function(t,e,n){"use strict";var a=n("8e56");n.n(a).a}}]);